{"code":"(this.webpackJsonptalkmeupapp=this.webpackJsonptalkmeupapp||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){},16:function(e,t,s){\"use strict\";s.r(t);var r=s(0),n=s(1),a=s.n(n),c=s(8),o=s.n(c),i=(s(14),s(3)),u=s(4),l=s(2),h=s(6),d=s(5),p=(s(15),function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).state={term:\"\"},r.handleChange=function(e){r.setState({term:e.target.value}),e.preventDefault()},r.onSubmit=function(e){r.state.term.length>0&&r.props.searchForTerm(r.state.term),e.preventDefault()},r}return Object(u.a)(s,[{key:\"render\",value:function(){return Object(r.jsx)(\"form\",{onSubmit:this.onSubmit,className:\"SearchPage\",children:Object(r.jsx)(\"table\",{className:\"SearchPageTable\",children:Object(r.jsx)(\"tbody\",{children:Object(r.jsxs)(\"tr\",{children:[Object(r.jsx)(\"td\",{className:\"SearchBarCell\",children:Object(r.jsx)(\"input\",{className:\"SearchBar\",type:\"text\",value:this.state.term,placeholder:\"Search for something!\",onChange:this.handleChange})}),Object(r.jsx)(\"td\",{className:\"SearchButtonCell\",children:Object(r.jsx)(\"input\",{className:\"SearchButton\",type:\"submit\",value:\"Search!\"})})]})})})})}}]),s}(a.a.Component));function b(e){var t=null;switch(e.type){default:console.error(\"Unkown result type: \"+e.type);break;case\"image\":t=Object(r.jsx)(\"img\",{className:\"ResultMedia\",src:e.src,alt:\"An image relating to \"+e.searchedTerm});break;case\"video\":t=Object(r.jsx)(\"div\",{className:\"ResultMedia\",dangerouslySetInnerHTML:{__html:e.player}})}return Object(r.jsxs)(\"div\",{className:\"Result\",children:[Object(r.jsx)(\"div\",{children:t}),Object(r.jsx)(\"input\",{type:\"button\",value:e.interest?\"Interested!\":\"Not Interested\",onClick:function(t){e.setInterest(!e.interest),t.preventDefault()},style:e.interest?{color:\"green\"}:{color:\"red\"}})]})}var j=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).state={results:r.props.results.slice()},r.state.results.sort((function(){return Math.random()-5})),r.getSetInterest=function(e){return function(t){var s=r.state.results.slice();s[e]=Object.assign({},s[e]),s[e].interest=t,r.setState({results:s}),console.log(\"Setting interest of \"+s[e].src+\" to \"+t)}},r.goBack=r.goBack.bind(Object(l.a)(r)),r}return Object(u.a)(s,[{key:\"goBack\",value:function(){this.props.setInterests(this.props.searchedTerm,this.state.results.filter((function(e){return e.interest})).map((function(e){return e.src}))),this.props.goBack()}},{key:\"componentDidUpdate\",value:function(e,t,s){if(this.props.results!==e.results){var r=this.props.results.slice();r.sort((function(){return Math.random()-.5})),this.setState({results:r})}}},{key:\"render\",value:function(){for(var e=this,t=this.state.results.slice(),s=[];t.length;)s.push(t.splice(0,3));return Object(r.jsxs)(\"div\",{className:\"ResultsPage\",children:[Object(r.jsx)(\"table\",{className:\"ResultsMatrix\",children:Object(r.jsx)(\"tbody\",{children:s.map((function(t,s){return Object(r.jsx)(\"tr\",{className:\"ResultsRow\",children:t.map((function(t,n){return Object(r.jsx)(\"td\",{className:\"ResultsCell\",children:Object(r.jsx)(b,{searchedTerm:e.props.searchedTerm,src:t.src,type:t.type,interest:t.interest,player:t.player,setInterest:e.getSetInterest(3*s+n)})},3*s+n)}))},s)}))})}),Object(r.jsx)(\"input\",{className:\"GoBackButton\",type:\"button\",value:\"Go Back\",onClick:this.goBack})]})}}]),s}(a.a.Component),m=\"AIzaSyAee85G7oYuStRYoBOlgvpp_ky0MKgbqYQ\",f=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).state={curPage:\"search\",interests:{},searchedTerm:\"\",results:[]},r.searchForTerm=r.searchForTerm.bind(Object(l.a)(r)),r.setInterests=r.setInterests.bind(Object(l.a)(r)),r}return Object(u.a)(s,[{key:\"searchForTerm\",value:function(e){var t=this;this.setState({curPage:\"results\",searchedTerm:e}),console.log(\"Searching for \"+e);var s=new XMLHttpRequest;s.open(\"GET\",\"https://customsearch.googleapis.com/customsearch/v1?key=AIzaSyAM0zBXsd42sz2F_EcHnQMfr09CJ0pirlY&cx=c55eb86d669bd3886&q=\"+e+\"&num=10&searchType=IMAGE\"),s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE){var r=JSON.parse(s.responseText);if(console.log(\"image results:\",r),void 0===r.error){var n=r.items.filter((function(e){return\"image/\"!==e.fileFormat})).map((function(e){return{src:e.link,type:\"image\"}}));n.splice(7);var a=t.state.interests[e];void 0!==a&&n.forEach((function(e){return e.interest=a.includes(e.src)})),t.setState({results:t.state.results.concat(n)})}else console.error(\"unable to search google images for \"+e),console.error(s.responseText)}};var r=new XMLHttpRequest;r.open(\"GET\",\"https://www.googleapis.com/youtube/v3/search?key=\"+m+\"&type=video&videoEmbeddable=true&maxResults=2&q=\"+e),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE){var s=JSON.parse(r.responseText);if(\"youtube#searchListResponse\"===s.kind){var n=new XMLHttpRequest,a=\"https://www.googleapis.com/youtube/v3/videos?key=\"+m+\"&part=player,id&id=\"+s.items.map((function(e){return e.id.videoId})).join();console.log(\"Getting from \"+a),n.open(\"GET\",a),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var s=JSON.parse(n.responseText);if(\"youtube#videoListResponse\"===s.kind){console.log(\"Video results: \",s);var r=s.items.map((function(e){return{src:\"https://youtu.be/\"+e.id,player:e.player.embedHtml,type:\"video\"}})),a=t.state.interests[e];void 0!==a&&r.forEach((function(e){return e.interest=a.includes(e.src)})),t.setState({results:t.state.results.concat(r)})}else console.error(\"Unable to retrieve youtube videos: \",n.responseText)}},n.send()}else console.error(\"Unable to search youtube: \",r.responseText)}},s.send(),r.send()}},{key:\"setInterests\",value:function(e,t){var s=Object.assign({},this.state.interests);t.length>0?s[e]=t:void 0!==s[e]&&delete s[e],this.setState({interests:s})}},{key:\"render\",value:function(){var e=this;switch(this.state.curPage){default:console.error(\"Unknown page \"+this.state.curPage),this.setState({curPage:\"search\"});case\"search\":return Object(r.jsxs)(\"div\",{children:[Object(r.jsx)(p,{searchForTerm:this.searchForTerm}),Object(r.jsx)(\"input\",{className:\"InterestsButton\",type:\"button\",value:\"Get Interests (JSON)\",onClick:function(){return e.setState({curPage:\"interests\"})}})]});case\"results\":return Object(r.jsx)(\"div\",{children:Object(r.jsx)(j,{searchedTerm:this.state.searchedTerm,results:this.state.results,setInterests:this.setInterests,goBack:function(){return e.setState({curPage:\"search\",results:[]})}})});case\"interests\":return Object(r.jsxs)(\"div\",{children:[Object(r.jsx)(\"div\",{children:Object(r.jsx)(\"code\",{children:JSON.stringify(this.state.interests)})}),Object(r.jsx)(\"input\",{className:\"GoBackButton\",type:\"button\",value:\"Go Back\",onClick:function(){return e.setState({curPage:\"search\"})}})]})}}}]),s}(a.a.Component);o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(f,{})}),document.getElementById(\"root\"))}},[[16,1,2]]]);","name":"static/js/main.ed621bd1.chunk.js","map":{"version":3,"sources":["static/js/main.ed621bd1.chunk.js"],"names":["this","push","14","module","exports","__webpack_require__","15","16","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","src_SearchPage","_React$Component","Object","SearchPage","_super","props","_this","call","state","term","handleChange","event","setState","target","value","preventDefault","onSubmit","length","searchForTerm","key","className","children","type","placeholder","onChange","a","Component","Result","media","console","error","src","alt","searchedTerm","dangerouslySetInnerHTML","__html","player","interest","onClick","setInterest","style","color","src_ResultsPage","ResultsPage","results","slice","sort","Math","random","getSetInterest","index","assign","log","goBack","bind","setInterests","filter","result","map","prevProps","prevState","snapshot","_this2","copy","results2D","splice","row","rowIndex","colIndex","YOUTUBE_API_KEY","src_App_0","App","curPage","interests","req","XMLHttpRequest","open","onreadystatechange","readyState","DONE","json","JSON","parse","responseText","undefined","items","fileFormat","link","linksWithInterest","forEach","includes","concat","req2","req3","url","item","id","videoId","join","_json","embedHtml","send","links","_this3","stringify","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonptalkmeupapp\"] = this[\"webpackJsonptalkmeupapp\"] || []).push([[0],{\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(8);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./src/SearchPage.js\nvar SearchPage_SearchPage=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(SearchPage,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(SearchPage);function SearchPage(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,SearchPage);_this=_super.call(this,props);_this.state={term:\"\"};_this.handleChange=function(event){_this.setState({term:event.target.value});event.preventDefault();};_this.onSubmit=function(event){if(_this.state.term.length>0){_this.props.searchForTerm(_this.state.term);}event.preventDefault();// prevent refresh of the page\n};return _this;}Object(createClass[\"a\" /* default */])(SearchPage,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{onSubmit:this.onSubmit,className:\"SearchPage\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"table\",{className:\"SearchPageTable\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"SearchBarCell\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"SearchBar\",type:\"text\",value:this.state.term,placeholder:\"Search for something!\",onChange:this.handleChange})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"SearchButtonCell\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"SearchButton\",type:\"submit\",value:\"Search!\"})})]})})})});}}]);return SearchPage;}(react_default.a.Component);/* harmony default export */ var src_SearchPage = (SearchPage_SearchPage);\n// CONCATENATED MODULE: ./src/ResultsPage.js\nfunction Result(props){var media=null;switch(props.type){default:console.error(\"Unkown result type: \"+props.type);break;case'image':media=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"ResultMedia\",src:props.src,alt:\"An image relating to \"+props.searchedTerm/*onClick={() => props.setInterest(!props.interest)}*/});break;case'video':media=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ResultMedia\",dangerouslySetInnerHTML:{__html:props.player}});// embed from youtube\nbreak;}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"Result\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:media}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"button\",value:props.interest?\"Interested!\":\"Not Interested\",onClick:function onClick(event){props.setInterest(!props.interest);event.preventDefault();},style:props.interest?{color:\"green\"}:{color:\"red\"}})]});}var ResultsPage_ResultsPage=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(ResultsPage,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(ResultsPage);function ResultsPage(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,ResultsPage);_this=_super.call(this,props);_this.state={results:_this.props.results.slice()};_this.state.results.sort(function(){return Math.random()-5;});// sorts randomly\n_this.getSetInterest=function(index){return function(interest){var results=_this.state.results.slice();results[index]=Object.assign({},results[index]);results[index].interest=interest;_this.setState({results:results});console.log(\"Setting interest of \"+results[index].src+\" to \"+interest);};};_this.goBack=_this.goBack.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(ResultsPage,[{key:\"goBack\",value:function goBack(){this.props.setInterests(this.props.searchedTerm,this.state.results.filter(function(result){return result.interest;}).map(function(result){return result.src;}));this.props.goBack();}// this is needed because the google and youtube results\n// come in at different times so\n// this is called when a new batch of results comes back\n// from google, and it updates this.state.results\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){if(this.props.results!==prevProps.results){// props results was updated\n// copy over the values + shuffle.\nvar results=this.props.results.slice();results.sort(function(){return Math.random()-0.5;});this.setState({results:results});}}},{key:\"render\",value:function render(){var _this2=this;// added later so it is a little out of place, but it works\nvar copy=this.state.results.slice();var results2D=[];while(copy.length){results2D.push(copy.splice(0,3));}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ResultsPage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"table\",{className:\"ResultsMatrix\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:results2D.map(function(row,rowIndex){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tr\",{className:\"ResultsRow\",children:row.map(function(result,colIndex){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"ResultsCell\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Result,{searchedTerm:_this2.props.searchedTerm,src:result.src,type:result.type,interest:result.interest,player:result.player// undefined for image, embedHtml for video.\n,setInterest:_this2.getSetInterest(rowIndex*3+colIndex)})},rowIndex*3+colIndex);})},rowIndex);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"GoBackButton\",type:\"button\",value:\"Go Back\",onClick:this.goBack})]});}}]);return ResultsPage;}(react_default.a.Component);/* harmony default export */ var src_ResultsPage = (ResultsPage_ResultsPage);\n// CONCATENATED MODULE: ./src/App.js\nvar GOOGLE_API_KEY='AIzaSyAM0zBXsd42sz2F_EcHnQMfr09CJ0pirlY';// would make this an env var in a bigger project\nvar YOUTUBE_API_KEY='AIzaSyAee85G7oYuStRYoBOlgvpp_ky0MKgbqYQ';// ^\nvar GOOGLE_CX='c55eb86d669bd3886';// would make this an env var in a bigger project\nvar App_App=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(App,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);_this=_super.call(this,props);// interests is an object with key=searched term and\n// value=links that the user said they were interested in\n_this.state={curPage:'search',interests:{},searchedTerm:\"\",results:[]};_this.searchForTerm=_this.searchForTerm.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.setInterests=_this.setInterests.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"searchForTerm\",value:function searchForTerm(term){var _this2=this;this.setState({curPage:'results',searchedTerm:term});// results properties:\n// src: link to the image/video\n// type: \"image\" or \"video\"\n// interest: bool\nconsole.log(\"Searching for \"+term);// search for term\n// for some reason the google API uses http2\n// and that is not usable by an app created by create-react-app,\n// so i will handle the http request directly (sad)\n// the same problem happens with youtube\nvar req=new XMLHttpRequest();// search for 7 images relating to term on cx, a custom search engine\n// rn get 10 images, then filter for 'valid' images later on and cut off the end\nreq.open(\"GET\",\"https://customsearch.googleapis.com/customsearch/v1?key=\"+GOOGLE_API_KEY+\"&cx=\"+GOOGLE_CX+\"&q=\"+term+\"&num=10&searchType=IMAGE\");req.onreadystatechange=function(){if(req.readyState===XMLHttpRequest.DONE){var json=JSON.parse(req.responseText);console.log(\"image results:\",json);// valid input is kind of assumed\nif(json[\"error\"]===undefined){// only count good results\nvar results=json.items.filter(function(result){return result.fileFormat!==\"image/\";}).map(function(result){return{src:result.link,type:\"image\"};});results.splice(7);var linksWithInterest=_this2.state.interests[term];if(linksWithInterest!==undefined){results.forEach(function(result){return result.interest=linksWithInterest.includes(result.src);});}_this2.setState({results:_this2.state.results.concat(results)});}else{console.error(\"unable to search google images for \"+term);console.error(req.responseText);}}};var req2=new XMLHttpRequest();// search for the 2 videos on youtube\nreq2.open(\"GET\",\"https://www.googleapis.com/youtube/v3/search?key=\"+YOUTUBE_API_KEY+\"&type=video&videoEmbeddable=true&maxResults=2&q=\"+term);req2.onreadystatechange=function(){if(req2.readyState===XMLHttpRequest.DONE){var json=JSON.parse(req2.responseText);if(json[\"kind\"]===\"youtube#searchListResponse\"){// get the 2 videos on youtube\nvar req3=new XMLHttpRequest();var url=\"https://www.googleapis.com/youtube/v3/videos?key=\"+YOUTUBE_API_KEY+\"&part=player,id&id=\"+json.items.map(function(item){return item.id.videoId;}).join();console.log(\"Getting from \"+url);req3.open(\"GET\",url);req3.onreadystatechange=function(){if(req3.readyState===XMLHttpRequest.DONE){var _json=JSON.parse(req3.responseText);if(_json[\"kind\"]===\"youtube#videoListResponse\"){console.log(\"Video results: \",_json);var results=_json.items.map(function(result){return{src:\"https://youtu.be/\"+result.id,player:result.player.embedHtml,type:\"video\"};});var linksWithInterest=_this2.state.interests[term];if(linksWithInterest!==undefined){results.forEach(function(result){return result.interest=linksWithInterest.includes(result.src);});}_this2.setState({results:_this2.state.results.concat(results)});}else{console.error(\"Unable to retrieve youtube videos: \",req3.responseText);}}};req3.send();}else{console.error(\"Unable to search youtube: \",req2.responseText);}}};req.send();req2.send();}// links are the links with interest\n},{key:\"setInterests\",value:function setInterests(term,links){var interests=Object.assign({},this.state.interests);if(links.length>0){interests[term]=links;}else if(interests[term]!==undefined){delete interests[term];}this.setState({interests:interests});}},{key:\"render\",value:function render(){var _this3=this;switch(this.state.curPage){default:console.error('Unknown page '+this.state.curPage);this.setState({curPage:'search'});// falls through\ncase'search':return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_SearchPage,{searchForTerm:this.searchForTerm}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"InterestsButton\",type:\"button\",value:\"Get Interests (JSON)\",onClick:function onClick(){return _this3.setState({curPage:'interests'});}})]});case'results':return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_ResultsPage,{searchedTerm:this.state.searchedTerm,results:this.state.results,setInterests:this.setInterests,goBack:function goBack(){return _this3.setState({curPage:'search',results:[]});}})});case'interests':return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"code\",{children:JSON.stringify(this.state.interests)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"GoBackButton\",type:\"button\",value:\"Go Back\",onClick:function onClick(){return _this3.setState({curPage:'search'});}})]});}}}]);return App;}(react_default.a.Component);/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[16,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\lsslg\\Desktop\\talkmeupapp\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\lsslg\\Desktop\\talkmeupapp\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\lsslg\\Desktop\\talkmeupapp\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\lsslg\\Desktop\\talkmeupapp\\src\\index.css","C:\\Users\\lsslg\\Desktop\\talkmeupapp\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\lsslg\\Desktop\\talkmeupapp\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\lsslg\\Desktop\\talkmeupapp\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\lsslg\\Desktop\\talkmeupapp\\src\\App.css","C:/Users/lsslg/Desktop/talkmeupapp/src/SearchPage.js","C:/Users/lsslg/Desktop/talkmeupapp/src/ResultsPage.js","C:/Users/lsslg/Desktop/talkmeupapp/src/App.js","C:/Users/lsslg/Desktop/talkmeupapp/src/index.js"],"names":["SearchPage","props","state","term","handleChange","event","setState","target","value","preventDefault","onSubmit","length","searchForTerm","React","Component","Result","media","type","console","error","src","searchedTerm","__html","player","interest","setInterest","color","ResultsPage","results","slice","sort","Math","random","getSetInterest","index","Object","assign","log","goBack","bind","setInterests","filter","result","map","prevProps","prevState","snapshot","copy","results2D","push","splice","row","rowIndex","colIndex","GOOGLE_API_KEY","YOUTUBE_API_KEY","GOOGLE_CX","App","curPage","interests","req","XMLHttpRequest","open","onreadystatechange","readyState","DONE","json","JSON","parse","responseText","undefined","items","fileFormat","link","linksWithInterest","forEach","includes","concat","req2","req3","url","item","id","videoId","join","embedHtml","send","links","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react';\r\n\r\nclass SearchPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {term: \"\"};\r\n\r\n        this.handleChange = event => {\r\n            this.setState({term: event.target.value});\r\n            event.preventDefault();\r\n        }\r\n\r\n        this.onSubmit = event => {\r\n            if (this.state.term.length > 0) {\r\n                this.props.searchForTerm(this.state.term);\r\n            }\r\n            event.preventDefault(); // prevent refresh of the page\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.onSubmit} className=\"SearchPage\">\r\n                <table className=\"SearchPageTable\"><tbody><tr>\r\n                    <td className=\"SearchBarCell\"><input\r\n                        className=\"SearchBar\" \r\n                        type='text'\r\n                        value={this.state.term}\r\n                        placeholder='Search for something!'\r\n                        onChange={this.handleChange}\r\n                    /></td>\r\n                    <td className=\"SearchButtonCell\"><input className=\"SearchButton\" type='submit' value='Search!'/></td>\r\n                </tr></tbody></table>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchPage;","import React from 'react';\r\n\r\nfunction Result(props) {\r\n    let media = null;\r\n    switch (props.type) {\r\n        default:\r\n            console.error(\"Unkown result type: \" + props.type);\r\n            break;\r\n        case 'image':\r\n            media = <img className=\"ResultMedia\" src={props.src} alt={\"An image relating to \" + props.searchedTerm}\r\n                /*onClick={() => props.setInterest(!props.interest)}*/ />;\r\n            break;\r\n        case 'video':\r\n            media = <div className=\"ResultMedia\" dangerouslySetInnerHTML={{__html: props.player}}/>; // embed from youtube\r\n            break;\r\n    }\r\n\r\n    return (\r\n        <div className=\"Result\">\r\n            <div>\r\n                {media}\r\n            </div>\r\n            <input\r\n                type='button'\r\n                value={props.interest ? \"Interested!\" : \"Not Interested\"}\r\n                onClick={(event) => {props.setInterest(!props.interest); event.preventDefault()}}\r\n                style={props.interest ? {color:\"green\"} : {color:\"red\"}}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nclass ResultsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {results: this.props.results.slice()};\r\n        this.state.results.sort(() => Math.random() - 5); // sorts randomly\r\n\r\n        this.getSetInterest = (index) => {\r\n            return (interest) => {\r\n                const results = this.state.results.slice();\r\n                results[index] = Object.assign({}, results[index]);\r\n                results[index].interest = interest;\r\n                this.setState({results: results});\r\n                console.log(\"Setting interest of \" + results[index].src + \" to \" + interest);\r\n            }\r\n        }\r\n\r\n        this.goBack = this.goBack.bind(this);\r\n    }\r\n\r\n    goBack() {\r\n        this.props.setInterests(this.props.searchedTerm, this.state.results.filter(result => result.interest).map(result => result.src));\r\n        this.props.goBack();\r\n    }\r\n\r\n    // this is needed because the google and youtube results\r\n    // come in at different times so\r\n    // this is called when a new batch of results comes back\r\n    // from google, and it updates this.state.results\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.results !== prevProps.results) {\r\n            // props results was updated\r\n            // copy over the values + shuffle.\r\n            const results = this.props.results.slice();\r\n            results.sort(() => Math.random() - 0.5);\r\n            this.setState({results: results});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        // added later so it is a little out of place, but it works\r\n        const copy = this.state.results.slice();\r\n        const results2D = [];\r\n        while(copy.length) results2D.push(copy.splice(0,3));\r\n\r\n        return (\r\n            <div className=\"ResultsPage\">\r\n                <table className=\"ResultsMatrix\"><tbody>\r\n                    {results2D.map((row, rowIndex) =>\r\n                        <tr className=\"ResultsRow\" key={rowIndex}>\r\n                            {row.map((result, colIndex) => <td className=\"ResultsCell\" key={rowIndex * 3 + colIndex}><Result\r\n                                searchedTerm={this.props.searchedTerm}\r\n                                src={result.src}\r\n                                type={result.type}\r\n                                interest={result.interest}\r\n                                player={result.player} // undefined for image, embedHtml for video.\r\n                                setInterest={this.getSetInterest(rowIndex * 3 + colIndex)}\r\n                            /></td>)}\r\n                        </tr>\r\n                    )}\r\n                </tbody></table>\r\n                <input className='GoBackButton' type='button' value='Go Back' onClick={this.goBack}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ResultsPage;","import './App.css';\nimport React from 'react';\nimport SearchPage from './SearchPage.js'\nimport ResultsPage from './ResultsPage.js'\n\nconst GOOGLE_API_KEY = 'AIzaSyAM0zBXsd42sz2F_EcHnQMfr09CJ0pirlY' // would make this an env var in a bigger project\nconst YOUTUBE_API_KEY = 'AIzaSyAee85G7oYuStRYoBOlgvpp_ky0MKgbqYQ' // ^\nconst GOOGLE_CX = 'c55eb86d669bd3886' // would make this an env var in a bigger project\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // interests is an object with key=searched term and\n    // value=links that the user said they were interested in\n    this.state = {curPage: 'search', interests: {}, searchedTerm: \"\", results: []};\n\n    this.searchForTerm = this.searchForTerm.bind(this);\n    this.setInterests = this.setInterests.bind(this);\n  }\n\n  searchForTerm(term) {\n    this.setState({curPage: 'results', searchedTerm: term});\n\n    // results properties:\n    // src: link to the image/video\n    // type: \"image\" or \"video\"\n    // interest: bool\n    console.log(\"Searching for \" + term);\n\n    // search for term\n    // for some reason the google API uses http2\n    // and that is not usable by an app created by create-react-app,\n    // so i will handle the http request directly (sad)\n    // the same problem happens with youtube\n    const req = new XMLHttpRequest();\n    // search for 7 images relating to term on cx, a custom search engine\n    // rn get 10 images, then filter for 'valid' images later on and cut off the end\n    req.open(\"GET\", \"https://customsearch.googleapis.com/customsearch/v1?key=\" + GOOGLE_API_KEY +\n        \"&cx=\" + GOOGLE_CX + \"&q=\" + term + \"&num=10&searchType=IMAGE\");\n    \n    req.onreadystatechange = () => {\n      if (req.readyState === XMLHttpRequest.DONE) {\n        const json = JSON.parse(req.responseText);\n\n        console.log(\"image results:\", json);\n\n        // valid input is kind of assumed\n        if (json[\"error\"] === undefined) {\n          // only count good results\n          const results = json.items.filter(result => result.fileFormat !== \"image/\").map(result => { return {src: result.link, type: \"image\"} });\n          results.splice(7);\n\n          const linksWithInterest = this.state.interests[term];\n          if (linksWithInterest !== undefined) {\n            results.forEach(result => result.interest = linksWithInterest.includes(result.src));\n          }\n\n          this.setState({results: this.state.results.concat(results)});\n        } else {\n          console.error(\"unable to search google images for \" + term);\n          console.error(req.responseText);\n        }\n      }\n    }\n\n    const req2 = new XMLHttpRequest();\n    // search for the 2 videos on youtube\n    req2.open(\"GET\", \"https://www.googleapis.com/youtube/v3/search?key=\" + YOUTUBE_API_KEY +\n        \"&type=video&videoEmbeddable=true&maxResults=2&q=\" + term);\n\n    req2.onreadystatechange = () => {\n      if (req2.readyState === XMLHttpRequest.DONE) {\n        const json = JSON.parse(req2.responseText);\n        if (json[\"kind\"] === \"youtube#searchListResponse\") {\n          \n          // get the 2 videos on youtube\n          const req3 = new XMLHttpRequest();\n          const url = \"https://www.googleapis.com/youtube/v3/videos?key=\" + YOUTUBE_API_KEY + \"&part=player,id&id=\" + json.items.map(item => item.id.videoId).join();\n          console.log(\"Getting from \" + url);\n          req3.open(\"GET\", url);\n              \n          req3.onreadystatechange = () => {\n            if (req3.readyState === XMLHttpRequest.DONE) {\n              const json = JSON.parse(req3.responseText);\n              if (json[\"kind\"] === \"youtube#videoListResponse\") {\n                console.log(\"Video results: \", json);\n                const results = json.items.map((result) => ({src: \"https://youtu.be/\" + result.id, player: result.player.embedHtml, type: \"video\" }));\n\n                const linksWithInterest = this.state.interests[term];\n                if (linksWithInterest !== undefined) {\n                  results.forEach(result => result.interest = linksWithInterest.includes(result.src));\n                }\n                this.setState({results: this.state.results.concat(results)});\n              } else {\n                console.error(\"Unable to retrieve youtube videos: \", req3.responseText);\n              }\n            }\n          }\n          req3.send();\n        } else {\n          console.error(\"Unable to search youtube: \", req2.responseText);\n        }\n      }\n    }\n    req.send();\n    req2.send();\n  }\n\n  // links are the links with interest\n  setInterests(term, links) {\n    const interests = Object.assign({}, this.state.interests);\n    if (links.length > 0) {\n      interests[term] = links;\n    } else if (interests[term] !== undefined) {\n      delete interests[term];\n    }\n    this.setState({interests: interests});\n  }\n\n  render() {\n    switch(this.state.curPage) {\n      default:\n        console.error('Unknown page ' + this.state.curPage);\n        this.setState({curPage: 'search'});\n        // falls through\n      case 'search':\n        return (\n          <div>\n            <SearchPage searchForTerm={this.searchForTerm}/>\n            <input className=\"InterestsButton\" type='button' value='Get Interests (JSON)' onClick={() => this.setState({curPage: 'interests'})}/>\n          </div>\n        );\n      case 'results':\n        return (\n          <div>\n            <ResultsPage\n              searchedTerm={this.state.searchedTerm}\n              results={this.state.results}\n              setInterests={this.setInterests}\n              goBack={() => this.setState({curPage: 'search', results: []})}\n            />\n          </div>\n        );\n      case 'interests':\n        return (\n          <div>\n            <div>\n              <code>{JSON.stringify(this.state.interests)}</code>\n            </div>\n            <input className=\"GoBackButton\" type='button' value='Go Back' onClick={() => this.setState({curPage: 'search'})}/>\n          </div>\n        );\n    }\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"]}}